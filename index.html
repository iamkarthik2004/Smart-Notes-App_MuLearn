<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Notes App</title>

  <!-- Link CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">

    <div class="header">
      <h1>üìù Smart Notes</h1>
      <button class="toggle-btn" onclick="toggleTheme()">üåô Toggle</button>
    </div>

    <div class="note-input">
      <textarea id="noteText" placeholder="Write your note..."></textarea>
      <button onclick="addNote()">Add Note</button>
    </div>

    <div class="notes" id="notesContainer"></div>
  </div>

  <script>
    /* ---------- NOTES LOGIC ---------- */
    let notes = JSON.parse(localStorage.getItem("notes")) || [];

    function saveNotes() {
      localStorage.setItem("notes", JSON.stringify(notes));
    }

    function displayNotes() {
      const container = document.getElementById("notesContainer");
      container.innerHTML = "";

      notes.forEach((note, index) => {
        container.innerHTML += `
          <div class="note-card">
            <p>${note}</p>
            <div class="note-actions">
              <button class="edit" onclick="editNote(${index})">Edit</button>
              <button class="delete" onclick="deleteNote(${index})">Delete</button>
            </div>
          </div>
        `;
      });
    }

    function addNote() {
      const text = noteText.value.trim();
      if (!text) return alert("Note cannot be empty!");
      notes.push(text);
      saveNotes();
      displayNotes();
      noteText.value = "";
    }

    function deleteNote(index) {
      notes.splice(index, 1);
      saveNotes();
      displayNotes();
    }

    function editNote(index) {
      const newText = prompt("Edit note:", notes[index]);
      if (newText && newText.trim()) {
        notes[index] = newText.trim();
        saveNotes();
        displayNotes();
      }
    }

    /* ---------- THEME LOGIC ---------- */
    function toggleTheme() {
      document.body.classList.toggle("dark");
      localStorage.setItem(
        "theme",
        document.body.classList.contains("dark") ? "dark" : "light"
      );
    }

    // Load saved theme
    if (localStorage.getItem("theme") === "dark") {
      document.body.classList.add("dark");
    }

    displayNotes();
  </script>
</body>
</html>
